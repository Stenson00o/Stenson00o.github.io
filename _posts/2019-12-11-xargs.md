[ ![How-To
Geek](data:image/png;base64,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)
](https://www.howtogeek.com/) [](/feed/) [
](https://www.linkedin.com/company/howtogeek/)
[](https://twitter.com/howtogeek/) [](https://facebook.com/howtogeek/)

Subscribe

  * [News](/news/)
  * [Features](/t/features/)
  * [Windows](/t/windows/)
  * [Smart Home](/t/smarthome/)
  * [Explore](/)

  * [Windows](https://www.howtogeek.com/t/windows/)
  * [Mac](https://www.howtogeek.com/t/mac/)
  * [iPhone](https://www.howtogeek.com/t/ios/)
  * [Android](https://www.howtogeek.com/t/android/)

  * [Smarthome](https://www.howtogeek.com/t/smarthome/)
  * [Office](https://www.howtogeek.com/t/office/)
  * [Security](https://www.howtogeek.com/t/privacyandsecurity/)
  * [Linux](https://www.howtogeek.com/t/linux/)

  * [News](https://www.howtogeek.com/news/)
  * [Features](https://www.howtogeek.com/t/features/)
  * [Review Geek](https://www.reviewgeek.com)
  * [LifeSavvy](https://www.lifesavvy.com)

  * [About Us](https://www.howtogeek.com/about/)
  * [Contact Us](https://www.howtogeek.com/contact/)
  * [Geek Talk](https://www.facebook.com/groups/geektalkgroup/)

X

Popular Searches

  * [Windows 10](https://www.howtogeek.com/search/?q=Windows+10)
  * [Speed Up PC](https://www.howtogeek.com/search/?q=Speed+Up+PC)
  * [Chromecast](https://www.howtogeek.com/search/?q=Chromecast)

  * [Windows](https://www.howtogeek.com/t/windows/)
  * [Mac](https://www.howtogeek.com/t/mac/)
  * [iPhone](https://www.howtogeek.com/t/ios/)
  * [Android](https://www.howtogeek.com/t/android/)

  * [Smarthome](https://www.howtogeek.com/t/smarthome/)
  * [Office](https://www.howtogeek.com/t/office/)
  * [Security](https://www.howtogeek.com/t/privacyandsecurity/)
  * [Linux](https://www.howtogeek.com/t/linux/)

  * [News](https://www.howtogeek.com/news/)
  * [Features](https://www.howtogeek.com/t/features/)
  * [Review Geek](https://www.reviewgeek.com)
  * [LifeSavvy](https://www.lifesavvy.com)

  * [About Us](https://www.howtogeek.com/about/)
  * [Contact Us](https://www.howtogeek.com/contact/)
  * [Geek Talk](https://www.facebook.com/groups/geektalkgroup/)

X

![](/pagespeed_static/1.JiBnMqyl6S.gif) The Best Tech Newsletter Anywhere

Join 250,000 subscribers and get a daily digest of news, geek trivia, and our
feature articles.

Skip to content

[](https://www.howtogeek.com/435164/how-to-use-the-xargs-command-on-linux/)

# [How to Use the xargs Command on
Linux](https://www.howtogeek.com/435164/how-to-use-the-xargs-command-on-
linux/)

![](data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAAkACQDASIAAhEBAxEB/8QAGwAAAgIDAQAAAAAAAAAAAAAAAAYCBAUHCAP/xAAuEAACAQQAAwYEBwAAAAAAAAABAgMABAURBhIhEyIxQWGBB1FxkSMzQmKhwdH/xAAYAQEBAQEBAAAAAAAAAAAAAAADBAUCBv/EACURAAEDBAECBwAAAAAAAAAAAAEAAhEDBAUSUSQxEyEzQVJhgf/aAAwDAQACEQMRAD8Ac+IONMJ2DtYmWW7HReRCI29TvqK1/mOKcjO4FxcHs33uNDpQPUefvUY8ZfSyhOwkXZ11XVS4zspsHAs2KhiklcBWMqk6IH16b/umrXJDdAV3Rtt5fHZVo84ioVe0jO+g3GKjJNbXJ3bgq2tsn+UpJxdkIXIzWIt3jDa5olKsPUA73TNhRa3kkGSx7xrbFtTtL3eVfPqfPwGvWoxULTITOZIgqfI3yP2opgkuuH0YqLlT9N0U3jngoNWfILELn+WRY4Y3eUkDq3gfanvIxrNrmQT938RWTZPtTjZ/D7hjh5O2tLJ5pgPz7lu0cH06AD2FJ2ckuLDIvNA2up1sdD9aK+ouZAHuqsU8DYz+JZvcXjpHaK4WyFs7gkyqUddfp5fOsbxecVjcWljiwAHk5mSPprQ8dfb7GmGPIX1/HcrbYWCS7KkAx6Bc+nzNatyU91cXkj3CMJebTKw1y+lDa0Xl2x7BU5K7Y2no3zJXqqSyDnWUgHyLgGiqaghevNRWgSV56Rwu2L5FeIhhsapH4kw9jOjl4yCT4g0UVRkB0xVeMPUhUOFMLZQXMIUO25g+2OztSCP5Aq98VeCOHsng77LS2fY31vCZBNBpGc/u6ab360UVNjxNAzymynrgfS5dJYk99hRRRVEBZS//2Q==)
[Dave McKay](https://www.howtogeek.com/author/davidmckay/)
[@TheGurkha](https://twitter.com/TheGurkha)  
August 1, 2019, 9:00am EDT

![A Linux terminal prompt on a laptop](https://www.howtogeek.com/wp-
content/uploads/2019/03/ximg_5c94224b1cfd7.png.pagespeed.gp+jp+jw+pj+ws+js+rj+rp+rw+ri+cp+md.ic.rjm91kC_Jl.png)[Fatmawati
Achmad Zaenuri/Shutterstock](https://www.shutterstock.com/image-vector/linux-
interface-screen-notebook-world-map-321627716)

Need to string some Linux commands together, but one of them doesn’t accept
piped input? `xargs` can take the output from one command and send it to
another command as parameters.

All of the standard Linux utilities have [three data
streams](https://en.wikipedia.org/wiki/Standard_streams) associated with them.
They are the standard input stream (stdin), the standard output stream
(stdout), and the standard error stream (stderr).

These streams work with text. We send input (stdin) to a command using text,
and the response (stdout) is written to the terminal window as text. Error
messages are also written to the terminal window as text (stderr).

One of the great features of Linux and [Unix-like operating
systems](https://www.howtogeek.com/182649/htg-explains-what-is-unix/) is the
ability to pipe the stdout output from one command into the stdin input of a
second command. The first command doesn’t care that its output is not going to
a terminal window, and the second command doesn’t care that its input isn’t
coming from a keyboard.

Although all of the Linux commands have the three standard streams, not all of
them accept another command’s stdout as input to their stdin. That means you
can’t pipe input to them.

`xargs` is a command for building execution pipelines using the standard data
streams. By using `xargs` we can make commands such as `echo`, `rm`, and
`mkdir` accept standard input as arguments.

## The xargs Command

`xargs` will accept piped input. It can also accept input from a file. `xargs`
uses that input as parameters for the commands we’ve told it to work with. If
we do not tell `xargs` to work with a specific command it will default to use
`echo`.

We can use that to demonstrate how `xargs` will always generate a single line
of output, even from multi-line input.

If we use the `-1` (list one file per line) option with `ls`, we get a [single
column of filenames](http://man7.org/linux/man-pages/man1/ls.1.html).

    
    
    ls -1 ./*.sh

![v in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

This lists the shell script files in the current directory.

![output of ls in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

We get a single column as expected. If we pipe it through `xargs` what do we
get?

    
    
    ls -1 ./*.sh | xargs

![ls -1 ./*.sh | xargs in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

The output is written to the terminal window, as one long stream of text.

![ls piped through xargs in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

It’s this capability that let’s `xargs` feed parameters into other commands.

## Using xargs With wc

We can use `xargs` to easily have `wc` count the [words, characters, and
lines](http://man7.org/linux/man-pages/man1/wc.1.html) in multiple files.

    
    
    ls *.page | xargs wc

![ls *.page | xargs wc in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

This is what happens:

  * `ls` lists the *.page files and passes the list to `xargs`.
  * `xargs` passes the filenames to `wc`.
  * `wc` treats the filenames as if it had received them as command line parameters.

![wc output in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

The statistics for each file are displayed together with an overall total.

## Using xargs With Confirmation

We can use the `-p` (interactive) option to have `xargs` prompt us for
confirmation that we are happy for it to proceed.

If we pass a string of filenames to `touch`, through `xargs`, `touch` will
[create the files](http://man7.org/linux/man-pages/man1/touch.1.html) for us.

    
    
    echo 'one two three' | xargs -p touch

![echo 'one two three' | xargs -p touch in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

The command that is going to be executed is displayed and `xargs` waits for us
to respond by typing “y” or “Y”, or “n” or “N”, and pressing Enter.

If you just press Enter, it is treated as “n”. The command is only executed if
you type “y” or “Y”.

![xargs prompting for confirmation in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

We pressed “y” and pressed Enter. We can use `ls` to check that the files have
been created.

    
    
    ls one two three

![output of ls in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

## Using xargs With Multiple Commands

We can use multiple commands with `xargs` by using the `-I` (initial
arguments) option.

This option defines a “replace-string.” Wherever the token for the replace-
string appears in the command line, the values that were supplied to `xargs`
are inserted.

Let’s use the `tree` command to look at the subdirectories from the current
directory. The `-d` (directory) option causes `tree` to ignore files and only
report on directories.

    
    
    tree -d

![tree -d in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

There is a single subdirectory called “images.”

In a file called “directories.txt”, we have the names of some directories that
we wish to have created. We can look at its contents using `cat`.

    
    
    cat directories.txt

![cat directories.txt in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

We’re going to use this as the input data for `xargs`. The command we’re going
to is this:

    
    
    cat directories.txt | xargs -I % sh -c 'echo %; mkdir %'

This breaks down like this:

  * _cat directories.txt |_ : This pushes the contents of  the directrories.txt file (all the new directory names) into `xargs`.
  * _xargs -I %_ : This defines a “replace-string” with the token “%”.
  * _sh -c_ : This starts a new subshell. The `-c` (command) tells the shell to read commands from the command line.
  * _‘echo %; mkdir %’_ : each of the “%” tokens will be replaced by the directory names that are passed by  `xargs`. The `echo` command will print the directory name; the `mkdir` command will create the directory.

![cat directories.txt | xargs -I % sh -c 'echo %; mkdir %' in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

The directories are listed one by one.

![output of xargs in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

We can use `tree` once more to verify the directories have been created.

    
    
    tree -d

![output from tree in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

## Copying Files To Multiple Locations

We can use `xargs` to allow us to copy files to multiple locations with a
single command.

We are going to pipe the names of two directories into `xargs` as the input
parameters. We’ll tell `xargs` to only pass one of these parameters at a time
to the command it is working with.

In this case, the command is `cp`. So the effect is to call `cp` twice, each
time with one of the two directories as a command-line parameter. The `xargs`
parameter that allows this to happen is the `-n` (max number) option. We’re
going to set this to be one.

We’re also using the `-v` (verbose) option with `cp` so that it reports what
is happening.

    
    
    echo ~/Backups/ ~/Documents/page-files/ | xargs -n 1 cp -v ./*.page

![echo ~/Backups/ ~/Documents/page-files/ | xargs -n 1 cp -v ./*.page  in a
terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

The files are copied to the two directories, one directory at a time. `cp`
reports each file copy action so that we can see them taking place.

![output of xargs and cp in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

## Deleting Files in Nested Directories

If filenames have spaces and strange characters in them—such as newline
characters— `xargs` will not be able to interpret them correctly. We can
overcome that problem by using the -0 (null terminator) option. This tells
`xargs` to use the null character as the final delimiter for filenames.

We’re going to use `find` in this example. `find` has its own option for
[dealing with whitespace](http://man7.org/linux/man-pages/man1/find.1.html)
and strange characters in filenames. It is the `-print0` (full name, null
character) option.

    
    
    find . -name "*.png" -type f -print0 | xargs -0 rm -v -rf "{}"

This breaks down like this:

  * _find . -name “*.png”_ : `find` is going to search from the current directory “.” for objects with names that match “*.png” that are files (`type -f`).
  * _-print0_ : names will be terminated by a null character, and spaces and strange characters will be catered for.
  * _xargs -0_ : _xargs_ is also going to consider filenames to be null-terminated, and spaces and strange characters will not cause problems.
  * _rm -v -rf “{}”_ : rm is going to be verbose and report what is happening (`-v`). It is going to be recursive (-r) and look through nested subdirectories, and will remove files without prompting (`-f`). The “{}” is replaced by each filename.

![find . -name "*.png" -type f -print0 | xargs -0 rm -v -rf "{}" in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

All subdirectories are searched, and the files that match the search pattern
are deleted.

![Output of rm in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

## Removing Nested Directories

Let’s say we want to remove a set of nested subdirectories. `tree` will let us
see them.

    
    
    tree -d

![tree -d in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

    
    
    find . -name "level_one" -type d printo | xargs -o rm -v -rf "{}"

This command will use find to search recursively within the current directory.
The search target is a directory called “level_one”.  The directory names are
passed through `xargs` to `rm`.

![find . -name "level_one" -type d printo | xargs -o rm -v -rf "{}" in a
terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

The only significant changes between this command and the previous command
are, the search term is the name of the topmost directory, and `-type d` tells
`find` to look for directories, not files.

![output from find and xargs and rm in a terminal
window](/pagespeed_static/1.JiBnMqyl6S.gif)

The name of each directory is printed as it is removed. We can check with
`tree` :

    
    
    tree -d

![tree -d in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

All of the nested subdirectories are deleted.

## Deleting All Files, Except for One File Type

We can use `find`, `xargs` and `rm` to delete all files apart from one type we
want to retain. It’s slightly counterintuitive, but we provide the name of the
filetype we wish to _keep_ , not the name of the ones we want to delete.

The `-not` option tells `find` to return the names of the files that _don’t_
match the search pattern. We’re using the `-I` (initial arguments) option with
`xargs` once more. This time the replace-string token we’re defining is “{}”.
This will behave exactly the same as the replace-string token we generated
previously, which happened to be a “%”.

    
    
    find . -type f -not - name "*.sh" -print0 | xargs -0 -I {} rm -v {}

![find . -type f -not - name "*.sh" -print0 | xargs -0 -I {} rm -v {} in a
terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

We can check with `ls`. The only files left in the directory are the ones that
matched the “*.sh” search pattern.

    
    
    ls -l

![output from ls in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

## Creating an Archive File With Xargs

We can use `find` to search for files and pass them through  `xargs`  to
`tar`, to create an archive file.

We’re going to search in the current directory. The search pattern is “*.page”
so we’re going to be looking for “.page” files.

    
    
    find ./ - name "*.page" -type f -print0 | xargs -0 -tar -cvzf page_files.tar.gz

![find ./ - name "*.page" -type f -print0 | xargs -0 -tar -cvzf
page_files.tar.gz in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

The files are listed as expected, as the archive file is created.

![output of tar in a terminal window](/pagespeed_static/1.JiBnMqyl6S.gif)

## The Data Mediator

Sometimes you need a little scaffolding when you’re stacking things together.
`xargs` bridges the gap between commands that can pump out information and
commands that aren’t built to take it in.

Both `xargs` and `find` have a huge number of options. You’re encouraged to
check out their man pages to learn more.



